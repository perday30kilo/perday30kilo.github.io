# Ddd Practice1


# 1 DDD工作坊实操
十个步骤，依次为：  
确定利益相关人   
确定业务期望和愿景   
对问题域的共同理解    
确定项目的业务范围    
确定业务流程    
史诗级故事和主故事    
运用用例分析场景                
通过边界识别限界上下文            
上下文映射        
领域架构    



## 1.1  对问题域的共同理解

对问题域的共同理解   
我认为：“对问题域（Problem Domain）的识别其实就是对客户痛点的识别。之所以要开发这个软件，目的就是解决这些痛点，为应对这些问题提供具有业务价值的功能。在识别痛点的过程中，需要始终从业务期望与愿景出发，与不同的利益相关人进行交流，如此才能达成对问题域的共同理解。”在工作坊中，一位业务人员补充了我对问题域定义的不足，她认为问题域不仅是对痛点的识别，还包括系统所要提供的价值。

实操要点:
通过和产品业务的沟通识别清楚需求利益相关方的痛点   
讲清楚需求的收益、关键指标、杠杆率    

 ![alt 问题域梳理](https://perday30kilo.github.io/img/ddd-problem.jpg)

 ![alt 问题域解决方案域](https://perday30kilo.github.io/img/ddd-problem-solution.jpg)


## 1.2 确定项目的业务范围    
之所以要确定项目的业务范围，是为了明确整个系统的边界。明确系统边界是架构设计的重要前提，它一方面可以明确职责划分，了解哪些内容才属于领域驱动设计的范畴；另一方面则可以事先明确当前系统需要与哪些外部系统集成。

## 1.3 运用用例分析场景
一个主用例可以认为是一个具有业务价值的业务功能。我提出的用例场景分析步骤为：

确定业务流程，通过业务流程识别参与者（Actor）；
根据每个参与者识别属于该参与者的用例，遵循一个参与者一张用例图的原则，保证用例图的直观与清晰；
对识别出来的用例根据语义相关性和功能相关性进行分类，确定用例的主题边界，并对每个主题进行命名。
首先，我让学员通过识别系统的参与者驱动用例的识别。一个参与者一个用例图，可以让我们的用例分析既有清晰的分析起点，又能保证用例图的清晰直观：

一旦准确地识别出用例，再根据语义相关性和功能相关性对这些用例进行分组，最后，确定主题边界（Subject Boundary）就变得相对容易了.   
![alt 问题域梳理](https://perday30kilo.github.io/img/ddd-bc1.jpg)     
这些识别出来的主题边界其实就是限界上下文的候选了。可以看到，不同团队因为需求理解的不同，识别出来的主题边界确实存在差别，但这个差别是非常细微的，基本能就限界上下文的边界达成一致。这些识别出来的用例同时也将作为统一语言的一部分，在后续的领域建模和战术设计中提供非常有价值的指导.

## 1.4 领域架构
在架构层面，我引入了RUP的4+1视图，这样可以使得领域驱动战略设计的成果显得更加系统化，能够为业务人员、开发人员、运维人员提供不同视角的架构指导。例如获得的逻辑视图可以非常清晰地表达系统层面与限界上下文层面各自的逻辑组成：
![alt 问题域梳理](https://perday30kilo.github.io/img/ddd-arch.jpg)    
进程视图则使用时序图针对那些需要异步处理或分布式通信的用例进行了清晰刻画：
![alt 问题域梳理](https://perday30kilo.github.io/img/ddd-process.jpg)    
